function animate(t,n,l){clearInterval(t.timer),t.timer=setInterval(function(){var e=0<(e=(n-t.offsetLeft)/10)?Math.ceil(e):Math.floor(e);console.log(t.offsetLeft,n),console.log(e),t.offsetLeft==n&&(clearInterval(t.timer),l&&l()),t.style.left=t.offsetLeft+e+"px"},15)}function animation(n,l,o){n.timer&&clearTimeout(n.timer),n.timer=setInterval(function(){var e=n.offsetLeft;console.log("current_x: ",e),console.log("target: ",l);var t=0<(t=(l-e)/10)?Math.ceil(t):Math.floor(t);console.log("step: ",t),l==e&&(console.log(o),clearInterval(n.timer),o&&(console.log(o),o())),n.style.left=n.offsetLeft+t+"px"},10)}function main(){console.log("index.js success");var l=document.querySelector(".focus"),e=document.querySelector(".arrow_left"),t=document.querySelector(".arrow_right"),o=document.querySelector(".focus-list"),n=document.querySelectorAll(".focus-list li"),r=document.querySelector(".circle");l.addEventListener("mouseenter",function(){e.style.display="block",t.style.display="block"}),l.addEventListener("mouseleave",function(){e.style.display="",t.style.display=""});for(var c=0;c<n.length;c++){var i=document.createElement("li");i.setAttribute("index",c),r.appendChild(i)}r.children[0].className="current_circle",r.addEventListener("click",function(e){for(var t=0;t<r.children.length;t++)e.target.hasAttribute("index")&&(r.children[t].className="");e.target.hasAttribute("index")&&(e.target.className="current_circle");var n=-e.target.getAttribute("index")*l.offsetWidth;animation(o,n)}),o.appendChild(o.children[0].cloneNode(!0)),e.addEventListener("click",function(e){s&&(++a==o.children.length&&(a=1),animation(o,-a*window.getComputedStyle(l).width,function(){console.log("callback..."),s=!0}))});var a=0,s=!0}addEventListener("DOMContentLoaded",main);